---
title: vim跳转命令
author: 余晖残影
tags: 
  - vim
categories: 
  - 工具
  - vim
description: vim文件内常用跳转命令
date: 
---
## 常规移动[上下左右]
hjkl 这是代替箭头键功能的
H M L 跳到屏幕的顶上 中间 下方

w 跳到下一个单词的开始
e 跳到单词的结束
b 向后跳

gg 跳到文件的开始
G 跳到文件的结束
10gg 或10G 跳到第10行

另外看文件时 除了pageup pagedown外还有其它的快速键
如CTRL-F 向前一页 CTRL-B 向后一页

CTRL-D 向下半页 CTRL-U 向上半页我觉得更实用 这样看文章时就不会跳转出错
另外还有
CTRL-E 向下一行
CTRL-Y 向上一行

^ 行首
$行尾
0 第一个字符

另外还有ctrl-t ctrl-i ctrl-]
如果已经使用了ctags 或是cscope创建索引文件的话 那看代码时很是方便[ctags需要单独设置,在使用前必须检索一遍才能用]

跳转到函数、变量定义处：[ctags]
[+ctrl+i 跳转到函数、变量和#define
[+ctrl+d 跳转到#define处
ctrl+i 向前跳到前几次光标位置
ctrl+o 向后跳到后几次光标位置

函数体跳转：
[[
]]
[]
][
{}
<details>
  <summary>函数体示例</summary>
    如何选中括号中的内容 进行：
    
    将光标移至括号内，按shift+v进入行选模式，然后
    
    i｛ － 选小括号中内容，不包括小括号
    
    a｛ － 选小括号中内容，包括小括号
    
    ib － 选中括号中内容，不包括括号
    
    ab － 选中括号中内容，包括括号
    
    i｛ － 选大括号中内容，不包括大括号
    
    a｛ － 选大括号中内容，包括大括号
</details>

下面还有些相关的tips，未全部验证：
vi{ 选中{}中间的内容,不包括{}
va{ 选中{}中间内容，包括{}
vi( 选中()中间内容
vi< 选中<>中间内容
vi[ 选中[]中间内容
vit 选中中间的内容
vi” 选中”"中间内容
vi’ 选中”中间的内容
vis 选中一个句子
vib 选中一个block
viw选中一个单词
vip 选中一个段落

gg光标定位到第一行开头，G定位到最后一行开头
H光标跳到当前窗口显示文本的第一行
M光标跳到当前窗口显示文本的中间一行
L光标跳到当前窗口显示文本的最后一行
g*查找包含当前单词的所有单词(*只查找与当前单词精确匹配的单词)，
-d光标下跳半屏，文本上滚半屏
-u光标上跳半屏，文本下滚半屏
-e文本向上滚动一行
zz屏幕滚动使得当前行成为屏幕的中间一行

* 跳到下一个不同之处
:]c

*跳到上一个不同之处
:[c

*不论何种情况下－o都可以上一次跳转的地方

*查看变量和函数的申明
[i
## 查找并跳转
ta 跳到下一个a 前面
fa 跳到下一个a
大写的意思相反

另外上面也作为vim其它命令的定位符 如删除d
dt)
一直删除到这行的)

另外还有%(跳到文件的%多少) 和|(跳到第几列) 不过我很少用
## vim文件跳转 
如果使用vim 打开了多个文件 ，如vim file1 file2 ... fileN
可以通过
:n 或 :prev来跳转 到前一个或者后一个文件
还可以通过
:first或:last来跳转到第一个和最后一个文件

如果你只打开一个文件，如vim file1
然后在使用过程中，通过
:e file2编辑了第二个文件，这时, :prev是不起作用的
可以用
:e#返回上一个编辑的文件

无论哪两种方式都可以用
:bN跳转到打开的第N个文件
如:b1跳转到第一个打开的文件
## 其他方法
在normal模式下光标停在某个字符上ga可以查看该字符的ascii码
#复制删除粘贴的操作：按V（shift+v），进入可视模式，jk上下选择需要的行，然后按
y 复制
d 删除
x 剪切
p 粘贴
可视模式很好用，例如想把两行的所有单词变成小写，按V然后按j或k选中这两行，按gu即可
#折叠或展开（在折叠的那一行左右移动光标也可展开折叠）
#删除光标所在行所处的范围的折叠
#展开折叠:zo
#折叠:zc
#不在单词中间断行。 设置了这个选项后， 如果一行文字非常长， 无法在一行内显示完的话，
它会在单词与单词间的空白处断开， 尽量不会把一个单词分成两截放在两个不同的行里。
set lbr
#sw是shiftwidth的缩写，表缩进列数
fx把光标移动到该行的下个x字符上，这个x也可以是一个汉字，;重复fx操作。Fx把光标移动到该行的上一个x字符上。

normal模式下按J删除此行末尾的换行符,从而合并两行
:ab myname william_djj
以后再编辑时键入myname，然后空格或回车myname串就会被william_djj代替
:r !date
在当前位置插入系统时间（linux下的date命令），同理当前位置插入某文件的内容就是
:r filename
:set ignorecase
查找时取消case sensitive
:set noignorecase
查找时case sensitive
############ 使用tags ###################
以下命令递归当前目录下的所有文件创建tags文件
ctags -R .
vim打开当前目录下的任意一文件，命令模式下键入下面语句以指定刚才创建的tags的位置，以后就可以在不同文件间查阅函数
set tags=..\tags
#分割窗口显示当前函数的定义
-w ]
##########################################
如果插件目录下有echofunc.vim，用以下命令生成tags，以后编辑代码函数名后打“（“时有参数提示。
$ ctags -R –fields=+lS .
:Tlist打开左边一个taglist的窗口，显示symbols。要注意的是在windows下如果tags文件路径中有空格或中文会报找不到tags文件的错误,
+w+w 或者+w+left/right 窗口切换
+] 进入光标所指的symbol的定义（如果用鼠标也是+鼠标左键，跟SI的用法一样）
+t 返回第一个用+t 跳转位置,注意+o是跳回上一个视图，而+t是跳回上一次按+]的位置
#以下命令分裂出一个窗口显示定义处
ptag 函数名
#以下命令关闭刚才打开的分裂窗口
pclose

#垂直分裂窗口打开一文件
vsplit 文件名

#水平分裂窗口打开一文件
split 文件名
变量名写成\name表示匹配模式
停在某个括号上按%，跳到匹配的括号处，#if跳到匹配的#else或#endif处
set fdm=syntax折叠函数体
双击]往后逐个函数跳读，双击[往前逐个函数跳读

#解决乱码
set fileencodings=ucs-bom,utf-8,cp936,gb18030,big5,euc-jp,euc-kr,latin1

#在vim下对比两个文件,原来打开了fnpro.c,现在和fnpro.c.bak对比

#垂直分割
:vert diffsplit fnpro.c.bak

#水平分割
:diffsplit fnpro.c.bak

#重新对文件代码进行缩进
gg=G

. 相对行号
:set relativenumber
